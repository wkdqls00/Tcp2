<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel='stylesheet' type='text/css' media='screen' href='../assets/css/clear.css'>
  <link rel='stylesheet' type='text/css' media='screen' href='../assets/css/band.css'>
  <link rel='stylesheet' type='text/css' media='screen' href='../assets/css/band_header.css'>
  <link rel='stylesheet' type='text/css' media='screen' href='../assets/css/band_chat.css'>
  <title>BAND - 채팅</title>
  <!-- <script src="/socket.io/socket.io.js"></script> -->
  <script src="https://code.jquery.com/jquery-latest.min.js"></script>
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js" integrity="sha384-2huaZvOR9iDzHqslqwpR87isEmrfxqyWOF7hr7BY6KG0+hVKLoEXMPUJw3ynWuhO" crossorigin="anonymous"></script>
  <script>
    let params = {"test":"YG"};
    $(function() {
      $.ajax({
        type: "GET",            // HTTP method type(GET, POST) 형식이다.
        url: "http://localhost:9090/Tcp2/AjaxChatHistoryServlet",      // 컨트롤러에서 대기중인 URL 주소이다.
        data: params,            // Json 형식의 데이터이다.
        crossDomain: true,
        crossOrigin: true,
        xhrFields: { 
        	withCredentials: true // 클라이언트와 서버가 통신할때 쿠키와 같은 인증 정보 값을 공유하겠다는 설정
        },
        success: function(res){ // 비동기통신의 성공일경우 success콜백으로 들어옵니다. 'res'는 응답받은 데이터이다.
          alert("SUCCESS");
        },
        error: function(XMLHttpRequest, textStatus, errorThrown){ // 비동기 통신이 실패할경우 error 콜백으로 들어옵니다.
          alert("통신 실패.")
        }
      });
    });
  </script>
</head>
<body class="skin3">
  <div class="ChatMainLayoutView">
    <div id="wrap" class="sChatPop">
      <header class="chatHeader sf_bg bg_blue">
        <div class="chatHeaderInfoBox">
          <h1 class="chatTitle">치이카와, 장예원 (2)</h1>
          <h2 class="chatSubTitle">6조 밴드</h2>
        </div>
        <button class="btnPopBandGo" onclick="window.close()"></button>
      </header>
      <div class="chatRoom">
        <div class="chatList">
          <div class="messageListRegion">
            <div class="chattingRoomMessageListView">
              <div>
                <div class="logWrap logEvent">
                  <!-- <time class="time">2024년 6월 10일 월요일</time> -->
                </div>
                <!-- 채팅 내역 -->
                <div class="childViewContainer">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- 메시지 입력창 -->
      <section class="commentWrite">
        <div class="mentionsWrap">
          <div class="mentions-input">
            <div class="mentions">
              <div></div>
            </div>
            <textarea class="commentWrite" id="commentInput" placeholder="보낼 메시지를 입력하세요." maxlength="10000"></textarea>
          </div>
          <div class="submitWrap">
            <button class="uButton writeSubmit">보내기</button>
          </div>
        </div>
      </section>
    </div>
  </div>
  <script src="/assets/js/chat.js"></script>
</body>
</html>